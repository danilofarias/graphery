"use strict";var width=960,height=500,force=d3.layout.force().charge(-200).linkDistance(80).size([width,height]),svg=d3.select("body").append("svg").attr("width",width).attr("height",height);d3.json("data/services.json",function(t,e){if(t)throw t;var r=[],n=[];e.forEach(function(t){var e=t.b._id,i=t.services._id;n.push({source:i,target:e}),r.push({id:e,name:t.b.properties.name}),r.push({id:i,name:t.services.properties.name})});var i=[],a=[];r.forEach(function(t){void 0==i[t.id]&&(a.push(t),i[t.id]=!0)});var s={nodes:a,links:n},c=d3.map();s.nodes.forEach(function(t){c.set(t.id,t)}),s.links.forEach(function(t){t.source=c.get(t.source),t.target=c.get(t.target)}),force.nodes(s.nodes).links(s.links).start();var o=svg.selectAll(".link").data(s.links).enter().append("line").attr("class","link"),d=svg.selectAll(".node").data(s.nodes).enter().append("circle").attr("class","node").attr("r",18).style("fill",function(t){return t.id}).call(force.drag);force.on("tick",function(){o.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),d.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y})})});
//# sourceMappingURL=main.js.map
