"use strict";var width=980,height=500,color=d3.scale.category20(),force=d3.layout.force().charge(-120).linkDistance(150).size([width,height]),svg=d3.select(".graph-container").append("svg").attr("width",width).attr("height",height);d3.json("/info",function(t,e){if(t)throw t;var r=[],n=[];e.forEach(function(t){var e=t.b._id,a=t.services._id;n.push({source:a,target:e}),r.push({id:e,name:t.b.properties.name}),r.push({id:a,name:t.services.properties.name})});var a=[],i=[];r.forEach(function(t){void 0==a[t.id]&&(i.push(t),a[t.id]=!0)});var o={nodes:i,links:n},s=function(t){force.nodes(t.nodes).links(t.links).start();var e=svg.selectAll(".link").data(t.links).enter().append("line").attr("class","link").style("stroke-width",function(t){return Math.sqrt(t.value)}),r=svg.selectAll("g.gnode").data(t.nodes).enter().append("g").classed("gnode",!0);r.append("circle").attr("class","node").attr("r",18).style("fill",function(t){return color(t.group)}).call(force.drag),r.append("text").text(function(t){return t.name});force.on("tick",function(){e.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),r.attr("transform",function(t){return"translate("+[t.x,t.y]+")"})})};s(o)});
//# sourceMappingURL=main.js.map
