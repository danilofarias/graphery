var services=[{b:{_id:188,labels:["Microservice"],properties:{name:"Account"}},r:{_id:265,type:"DEPENDS_ON",properties:{},_fromId:185,_toId:188},services:{_id:185,labels:["Microservice"],properties:{name:"Auth"}}},{b:{_id:187,labels:["Microservice"],properties:{name:"Search"}},r:{_id:264,type:"DEPENDS_ON",properties:{},_fromId:186,_toId:187},services:{_id:186,labels:["Microservice"],properties:{name:"Chat"}}},{b:{_id:188,labels:["Microservice"],properties:{name:"Account"}},r:{_id:263,type:"DEPENDS_ON",properties:{},_fromId:186,_toId:188},services:{_id:186,labels:["Microservice"],properties:{name:"Chat"}}},{b:{_id:185,labels:["Microservice"],properties:{name:"Auth"}},r:{_id:262,type:"DEPENDS_ON",properties:{},_fromId:186,_toId:185},services:{_id:186,labels:["Microservice"],properties:{name:"Chat"}}}];console.log(services);var width=960,height=500,force=d3.layout.force().charge(-200).linkDistance(80).size([width,height]),svg=d3.select(".graph-container").append("svg").attr("width",width).attr("height",height);d3.json("./data/test.json",function(e,r){if(e)throw e;console.log(r[0].b.properties.name+" depends on: "+r[0].services),console.log(r[1].b.properties.name+" depends on: "+r[1].services),console.log(r[2].b.properties.name+" depends on: "+r[2].services),force.nodes(r).links(r).start();var t=svg.selectAll(".link").data(r.links).enter().append("line").attr("class","link"),i=svg.selectAll(".node").data(r).enter().append("circle").attr("class","node").attr("r",12).style("fill",function(e){return e.id}).call(force.drag);force.on("tick",function(){t.attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y}),i.attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y})})});